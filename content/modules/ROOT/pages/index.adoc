= {lab_name}
:navtitle: Overview
:numbered:
:imagesdir: ../assets/images

image::aiops.png[aiops,55%,55%, link="aiops.png", window="_blank"]

== Lab Introduction

In this lab, you will build an intelligent, self-healing automation workflow using:

- Red Hat AI for understanding service issues
- Ansible Lightspeed to generate remediation playbooks
- Ansible Automation Platform (AAP) workflows for orchestration
- Event-Driven Ansible (EDA) to listen to real-time service events

The goal is to showcase how **automation + AI** can be used to detect, analyze, and remediate application failures **without writing any playbooks manually**.  For a quick overview consider this ~2 minute https://youtu.be/a3fCHd2vTXU?si=L_5jGYZFtb3SzCJq[YouTube video,window=_blank].  Quick plug! https://youtube.com/ansibleautomation?sub_confirmation=1[Please consider subscribing to the Ansible Team!,window=_blank]

== Background

AIOps stands for *artificial intelligence* for IT operations. It refers both to a modern approach to managing IT operations and to the software systems that implement it. AIOps uses data science, big data, and machine learning to augment‚Äîor even automate‚Äîmany of the processes traditionally handled manually by IT teams. Its goal is to improve issue detection, root cause analysis, and system resolution by making IT operations more intelligent and efficient. To read more about AIops there is a great article on https://www.redhat.com/en/topics/ai/what-is-aiops[redhat.com, window=_blank].

In AIOps there are three major parts:

- Obervability
- Inference
- Automation

image::aiops-circle.png[aiops diagram,55%,55%, link="aiops-circle.png", window="_blank"]

- *Observability* is the ability to understand the internal state of a system by collecting, analyzing, and visualizing data from logs, metrics, and traces.  This _can_ be another AI tool such as *IBM Instana Observability*.  For this lab we are simply relaying logs using https://www.elastic.co/beats/filebeat[Filebeat, window=_blank], a Lightweight shipper for logs.  Ansible Automation Platform can integrate with obervability tools using Event-Driven Ansible (EDA).

- *Inference* - Inference in AI refers to the process of using a trained model to make predictions or decisions based on new, unseen data.  For this AIOps workflow we are using *Red Hat AI* for understanding service issues like an application outage, and *Ansible Lightspeed* to create an Ansible Playbook.

- *Automation* is the ability to automatically detect, respond to, and resolve IT issues without human intervention.  We are using *Ansible Automation Platform* to tie observability and inference together to direclty to create workflows for self healing infrastrucure.

It is important to note that AIOps can be adopted incrementally and it is not all or nothing.  You do not need to have fully self healing infrastrucure on day one to start realizing value.  At Red Hat we like to say: "Start small, think big!"


== Lab Environment

link:_images/lab_topology.png[image:lab_topology.png[lab_topology], window=_blank]

- A RHEL(Red Hat Enterprise Linux) node with Apache (`httpd`) installed
- Filebeat monitoring Apache logs
- Kafka acting as the event transport
- Event-Driven Ansible is listening to Kafka and launching workflows based on defined rules
- Red Hat AI to infer incident context from logs
- Ansible Lightspeed to generate a remediation playbook
- Gitea for source control management of Ansible Playbooks
- Ansible Automation Platform to run job templates and workflows
- Mattermost for message notifications

[quote]
üí° EDA (Event-Driven Ansible) is part of Ansible Automation Platform.  It is referred to separately sometimes depending on the workflow.  EDA uses rulebooks to monitor events, then executes specified job templates or workflows based on the event.  Think of it simply as inputs and outputs.  EDA is an automatic way for inputs into Ansible Automation Platform, where Automation controller / Automation execution is the output (running a job template or workflow).

== Workshop Agenda

For this workshop are there four (4) Parts:

1. *Event-Driven Ansible (EDA) Response* - Event Driven Ansible will respond to a systemd application outage

2. *Log Enrichment and Prompt Generation Workflow* - Ansible Automation Platform (AAP) - will retrieve systemd logs, coordinate with Red Hat AI to analyze the incident, notify Mattermost then automatically create a Job Template for us to use in the subsequent workflow.

3. *Remediation Workflow* - This workflow will focus on automatically creating an Ansible Playbook to resolve the issue by using Ansible Lightspeed.  This workflow will take the prompt created by the previous workflow, request a playbook from Ansible Lightspeed, sync this playbook to Git and then automatically create a Job Template for us to remediate the issue.

4. *Execute HTTPD Remedation* - This is the final Job Template that will actually fix the application outage on the RHEL webserver.

5. *AI Driven Ansible for Network Automation* - This lab synthesizes the AI skills from the preceding sections of the {lab_name} into a practical network automation scenario.

[quote]
üí° Could this all be one workflow? Yes.  This is purposely broken up at natural breakpoints where a human user can review what the AIOps workflow is doing and course correct if required.  This also allows organization to incrementally adopt AIOps workflows.  Organization can benefit greatly from any of these individual parts!

Here is a diagram of the entire workflow:

link:_images/overview_diagram.png[image:overview_diagram.png[overview_diagram], window=_blank]

[quote]
‚ùì Why Mattermost? Mattermost is an open-source, self-hostable online chat service with file sharing, search, and third party application integrations. It is designed as an internal chat for organisations and companies, and mostly markets itself as an open-source alternative to Slack and Microsoft Teams.  It is used in this workshop as an example and can be replaced with any Chat or ITSM (e.g. *ServiceNow*) of your choice.  It is really easy to setup an individual Mattermost container per student in the workshop!

[quote]
‚ùì Why Gitea? Gitea is a self-hosted, open-source software development service that provides Git hosting, code review, team collaboration, package registry, and CI/CD, similar to platforms like GitHub, Bitbucket, and GitLab.  It could be replaced by *Github*, *Gitlab* or any Git service of your choosing.  It is a a very lightweight solution that works great for workshops.

[quote]
‚ùì Why Kafka? Apache Kafka is a distributed streaming platform used for building real-time data pipelines and streaming applications, enabling applications to publish, consume, and process high volumes of data streams.  It is all open-source and self hosted and works great for workshops.  This could be replaced by any event bus of your choosing.  Event-Driven Ansible has numerous plugins including integratrions with AWS SQS, AWS CloudTrail, Azure Service Bus, Prometheus, dynatrace, IBM Instana, BigPanda, Zabbix, CyberArk and more.

**I need more details!**

image::more.png[give me more,400, link="more.png", window="_blank"]

Let‚Äôs take a closer look at each step in the workflow, broken down clearly for you.

link:_images/workflow_diagram.png[image:workflow_diagram.png[workflow_diagram], window=_blank]

We will break this up into sections though!  As you go through each module we will break down each individual workflow and go step-by-step! Red Hat and Ansible Automation Platform will make AIOps simple for organizations to adopt and scale.

== Access & Credentials

All lab content is preconfigured and ready to run.

=== Systems Overview

This lab environment includes a variety of tools working together to demonstrate AI-driven remediation. You'll interact with the following systems:

* Ansible Automation Platform (AAP) - Executes workflows and job templates. Already opened in your lab interface.
* Gitea - Git service used to host the Lightspeed-generated playbook.
* Mattermost - Used for automated notifications during log enrichment.
* RHEL node - The webserver (`httpd`) that will experience and recover from failure.
* Red Hat AI & Lightspeed - AI services that analyze logs and generate remediation content.

=== Access Table

[cols="2,2,2", options="header"]
|===
| System | URL | Credentials

| Ansible Automation Platform
| AAP is preloaded in the lab interface.
Click link if you want to open it in full tab:
link:{controller_url}[AAP Web UI,window=_blank]
| Username: `{controller_username}`
Password: `{controller_password}`

| Gitea
| link:{gitea_url}[Gitea Web UI,window=_blank]
| Username: `{gitea_username}`
Password: `{gitea_password}`

| Mattermost
| link:{mattermost_url}[Mattermost,window=_blank]
| Username: `{mattermost_username}`
Password: `{mattermost_password}`

| Splunk
| link:{splunk_url}[Splunk,window=_blank]
| Username: `{splunk_username}`
Password: `{splunk_password}`

|===

'''

== Ready to Begin Part 1?

You now have everything you need to start the core AIOps lab! In the following modules, you'll break Apache, watch EDA respond, see Red Hat AI analyze the incident, and let Ansible Lightspeed generate a fix‚Äîall automatically.

**Click the link at the bottom of this page** to proceed to the first module and begin your AIOps journey.

'''

[NOTE]
====
**This lab has two independent parts!** You can complete Part 1, Part 2, or both‚Äîin any order. If you've already completed Part 1 and want to explore a more advanced scenario, feel free to skip ahead to Part 2.
====

== Part 2: AIOps with Network Automation

image::splunk-logo.png[splunk,150, link="splunk-logo.png", window="_blank"]

[IMPORTANT]
====
**Highly Recommended!** While Part 2 can be completed independently, we strongly encourage completing this section. Part 1 provides a **basic introduction** to AIOps concepts using Apache service remediation. Part 2 applies the same AIOps principles to a **more complex, real-world networking scenario**‚Äîdemonstrating how AI-driven automation scales to handle sophisticated infrastructure challenges.
====

Part 2 applies the same three AIOps pillars you learned in Part 1‚Äî**Observability**, **Inference**, and **Automation**‚Äîto network infrastructure:

* **Observability**: Splunk collects and analyzes syslog data from Cisco routers, detecting OSPF neighbor failures in real-time
* **Inference**: Ansible Lightspeed with IBM watsonx Code Assistant generates network remediation playbooks based on natural language prompts describing OSPF troubleshooting scenarios
* **Automation**: Event-Driven Ansible receives Splunk alerts and triggers AAP workflows that validate (check mode) and execute the AI-generated fixes automatically

=== Network Lab Components

The network environment includes:

* **Splunk Enterprise** - Network observability and alerting platform
* **Ansible Automation Platform** - Workflow orchestration and playbook execution
* **Ansible Lightspeed** - AI-powered playbook generation for network scenarios
* **Event-Driven Ansible** - Webhook listener that bridges Splunk alerts to AAP workflows
* **Cisco Cat8000v Routers** - OSPF-configured network devices (running in OpenShift Virtualization)

image::lab_topo.png[Lab Topology,150%,150%, link="lab_topo.png", window="_blank"]

=== How It Works: The Closed-Loop Network AIOps Workflow

This lab demonstrates a complete observe ‚Üí evaluate ‚Üí respond loop for network automation:

1. **Trigger**: A misconfiguration on cisco-rtr1 causes the OSPF neighbor relationship to drop (Tunnel0 interface)
2. **Observe**: The router sends a syslog message to Splunk, which detects the "OSPF down" event and fires an alert
3. **Evaluate**: The Splunk alert triggers an EDA webhook, launching the Network-AIOps-Workflow in AAP
4. **Infer**: The workflow prompts Ansible Lightspeed to generate a remediation playbook specific to the OSPF failure scenario
5. **Validate**: AAP runs the AI-generated playbook in check mode to preview changes before applying them
6. **Respond**: After human approval, the playbook executes in run mode, automatically restoring the OSPF neighbor adjacency

[quote]
**Same AIOps Pattern, Different Domain**: Notice how Part 2 follows the exact same workflow structure as Part 1? The power of AIOps is that these patterns apply universally‚Äîwhether you're fixing Apache services or troubleshooting complex network protocols. You'll explore three OSPF failure scenarios, each demonstrating how to codify expert network knowledge into automated, AI-generated remediation playbooks.

=== What You'll Learn

* How to integrate Splunk with Event-Driven Ansible for network event detection
* Techniques for prompting Ansible Lightspeed to generate effective network automation playbooks
* Best practices for validating AI-generated network changes before production deployment
* Real-world OSPF troubleshooting scenarios: interface shutdown, network type mismatch, and hello timer configuration

[quote]
**Pre-configured Environment**: Most network components (workflows, projects, inventories, job templates, Gitea repository) are pre-loaded. You'll configure Splunk data inputs, verify EDA rulebook activations, and execute the OSPF troubleshooting scenarios to see the complete closed-loop automation in action.

== What's Next?

Lets get started!

[cols="1,3", frame=none, grid=none]
|===
|image::aap_logo.png[aap_logo,120]
a|
**Part 1: AIOps with Apache Remediation** (Modules 1-2)

A **basic introduction** to AIOps‚Äîlearn the fundamentals by building a self-healing workflow for Apache service failures using Red Hat AI and Ansible Lightspeed.

**Part 2: AIOps with Network Automation** (Modules 3-5) _Highly Recommended_

Apply the same AIOps patterns to **network infrastructure**. Troubleshoot OSPF routing issues on Cisco routers using Splunk, Event-Driven Ansible, and Lightspeed-generated playbooks.
|===

[TIP]
====
**Choose your path:** Both parts are independent and can be completed in any order. New to AIOps? Start with Part 1. Already familiar with the basics or completed Part 1 previously? Jump straight to Part 2 for a deeper dive into network automation.
====

Click the link below to proceed to **Module 1: Log Enrichment and Prompt Generation Workflow**.
